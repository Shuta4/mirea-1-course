# Тема 3. Коды представления чисел: прямой, дополнительный, обратный, модифицированные.
Коды позиционной системы счисления:
- Коды со смещением:
	- Несимметричный
	- Симметричный
- Прямой:
	- Обратный:
		- Модифицированный
		- Дополнительный:
			- Модифицированный дополнительный

## Прямой код
Схема: <Знаковый разряд>.<Разряды для модуля числа>

Знаковый разряд:
- Если 0, то число положительное.
- Если N - 1, то число отрицательное, где N - основание системы.

## Дополнительный код
1. Положительные числа в дополнительном коде выглядят также, как и в прямом.
2. Дополнительный код N-разрядного отрицательного числа является дополнением модуля этого числа до 0.
3. Знак числа: 0 - число положительное; N - 1 - число отрицательное (N - основание системы).
4. Для получения доп. кода отрицательных чисел разряды двоичной записи модуля числа инвертируются и к младшему разряду прибавляется 1. В знаковом разряде записывается 1.
5. Действия по переводу из доп. кода в прямой точно такие же, как и при переводе из прямого кода в дополнительный (инвертируем и прибавляем 1).

### Диапазон представления для четырехразрядных двоичных чисел
| Число | Знак | Код |
| 0     | 0    | 000 |
| 1     | 0    | 001 |
| 2     | 0    | 010 |
| 3     | 0    | 011 |
| 4     | 0    | 100 |
| 5     | 0    | 101 |
| 6     | 0    | 110 |
| 7     | 0    | 111 |
| -8    | 1    | 000 |
| -7    | 1    | 001 |
| -6    | 1    | 010 |
| -5    | 1    | 011 |
| -4    | 1    | 100 |
| -3    | 1    | 101 |
| -2    | 1    | 110 |
| -1    | 1    | 111 |

### Правила сложения
1. Выровнять разрядности слагаемых.
2. Перевести слагаемые в дополнительный код.
3. Произвести сложение. Знаковые разряды участвуют в сложении.
4. Единицу переноса из знакового разряда надо отбросить.
5. Проверить на наличие переполнения (может возникнуть, если складываем числа одинаковых знаков).
6. Отреагировать на переполнение (добавить один незначащий разряд (0 в положительных, 1 в отрицательных в доп. и обр. кодах)).

## Обратный код
1. Исторический предшественник дополнительного кода.
2. Является промежуточным этапом перехода в дополнительный код.
3. Обратный код - математический метод, позволяющий заменить "-" на "+".
4. Положительные числа в обратном коде выглядят также как и в прямом.
5. Обратный код N-разрядного отрицательного числа является дополнением модуля этого числа до максимального числа, которое можно записать при помощи N разрядов.
6. Действия по переводу отрицательного числа из обратного кода в прямой точно такие же, как и при переводе из прямого кода в обратный.
7. В случае двоичной системы: в знаковый разряд ставится 1, а остальные разряды инвертируются.

### Диапазон представления для четырехразрядных двоичных чисел
| Число | Знак | Разряд |
| +0    | 0    | 000    |
| 1     | 0    | 001    |
| 2     | 0    | 010    |
| 3     | 0    | 011    |
| 4     | 0    | 100    |
| 5     | 0    | 101    |
| 6     | 0    | 110    |
| 7     | 0    | 111    |
| -7    | 1    | 000    |
| -6    | 1    | 001    |
| -5    | 1    | 010    |
| -4    | 1    | 011    |
| -3    | 1    | 100    |
| -2    | 1    | 101    |
| -1    | 1    | 110    |
| -0    | 1    | 111    |

### Правила сложения
1. Выровнять разрядность слагаемых.
2. Перевести солагаемые в обратный код.
3. Произвести сложение. Знаковые разряды участвуют в сложении.
4. Единицу переноса из знакового разряда прибавить к младшему разряду суммы.
5. Проверить наличие переполнения.
6. Отреагировать на переполнение.

## Модифицированные коды
Модифицированные коды делают двоичную запись числа однозначной.

В модифицированных кодах используются два знаковых разряда:
- 00 - положительное число
- 11 - отрицательное число
- 01 - положительное число с переполнением
- 10 - отрицательное число с переполнением

Правила сложения в модифицированных кодах такие же.

## Коды со смещением
Сдвигают числовую шкалу в область положительных чисел.
Коды со смещением:
- Несимметричные N = M + 1 (-5 ... -1, 0, 1 ... 4)
- Симметричные K = L (-4 ... -1, 0, 1 ... 4)

### Пример несимметричного кода со смещением
| Исходное число | Смещенное число | Код со смещением |
| 3              | 7               | 111              |
| 2              | 6               | 110              |
| 1              | 5               | 101              |
| 0              | 4               | 100              |
| -1             | 3               | 011              |
| -2             | 2               | 010              |
| -3             | 1               | 001              |
| -4             | 0               | 000              |

Для несимметричного кода на базе 2-ой системы, если n - доступное колво разрядов, то:
- $2^{n-1} - 1$ - максимальное число
- $-2^{n-1}$ - минимальное число
- $2^{n-1}$ - величина смещения

### Пример симметричного кода со смещением
| Исходное число | Смещенное число | Код со смещением |
| 3              | 6               | 110              |
| 2              | 5               | 101              |
| 1              | 4               | 100              |
| 0              | 3               | 011              |
| -1             | 2               | 010              |
| -2             | 1               | 001              |
| -3             | 0               | 000              |

Для симметричного кода на базе 2-ой системы, если n - доступное колво разрядов, то:
- $2^{n-1} - 1$ - максимальное число
- $-2^{n-1} + 1$ - минимальное число
- $2^{n-1} - 1$ - величина смещения

Двоичная комбинация 1..11 не исполььзуется или выполняет спецфункции.

### Особенности смещенного кода
- Достоинство - облегченное сравнение чисел.
- Недостаток - усложнение арифметики.

## Взаимосвязь кодов и типов данных на примере языка C++
Коды используются как для хранения чисел в памяти, так и для выполнения арифметических операций.

Для хранения типов используются:
- Дополнительный код:
	- signed char
	- signed int
	- short int
	- long int
- Прямой и симметричный код со смещением (для хранения):
	- float
	- double

Для выполнения вычислений используется модифицированный дополнительный код.
